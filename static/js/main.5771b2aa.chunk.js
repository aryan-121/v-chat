(this["webpackJsonpv-chat"]=this["webpackJsonpv-chat"]||[]).push([[0],{44:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(13),r=n.n(c),i=n(37),a=n.n(i),s=(n(44),n(0)),o=n.n(s),u=n(2),d=n(14),j=(n(46),n(28)),b=(n(52),n(48),n(38)),l=n(39),h=n(16);j.a.initializeApp({apiKey:"AIzaSyBZGy--btJtgBsbgq55JfHW1w8NF0VzlnE",authDomain:"v-chat-95191.firebaseapp.com",projectId:"v-chat-95191",storageBucket:"v-chat-95191.appspot.com",messagingSenderId:"504480670740",appId:"1:504480670740:web:b6201a834d221e3bec3301"});var p=j.a.auth(),g=j.a.firestore();function O(){return Object(h.jsx)("button",{onClick:function(){var e=new j.a.auth.GoogleAuthProvider;p.signInWithPopup(e)},children:"Sign in with Google"})}function f(){var e=Object(c.useRef)(),t=g.collection("messages"),n=t.orderBy("createdAt").limit(25),r=Object(l.a)(n,{idField:"id"}),i=Object(d.a)(r,1)[0],a=Object(c.useState)(""),s=Object(d.a)(a,2),b=s[0],O=s[1],f=function(){var n=Object(u.a)(o.a.mark((function n(c){var r,i,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),r=p.currentUser,i=r.uid,a=r.photoURL,n.next=4,t.add({text:b,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:a});case 4:O(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{children:[i&&i.map((function(e){return Object(h.jsx)(v,{message:e},e.id)})),Object(h.jsx)("div",{ref:e})]}),Object(h.jsxs)("form",{onSubmit:f,children:[Object(h.jsx)("input",{placeholder:"Type a Message ...",value:b,onChange:function(e){return O(e.target.value)}}),Object(h.jsx)("button",{type:"submit",children:"Send"})]})]})}function v(e){var t=e.message,n=t.text,c=t.uid,r=t.photoURL,i=c===p.currentUser.uid?"sent":"received";return Object(h.jsxs)("div",{className:"message ".concat(i),children:[Object(h.jsx)("img",{src:r}),Object(h.jsx)("p",{children:n})]})}var m=function(){var e=Object(b.a)(p),t=Object(d.a)(e,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("header",{children:["V-CHAT",Object(h.jsx)("button",{id:"signout",onClick:function(e){e.preventDefault(),p.signOut(),document.getElementById("signout").style.display="hidden"},children:"Sign Out"})]}),Object(h.jsx)("section",{children:t?Object(h.jsx)(f,{}):Object(h.jsx)(O,{})})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),x()}},[[51,1,2]]]);
//# sourceMappingURL=main.5771b2aa.chunk.js.map